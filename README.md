# Arduino-WebSCADA
my_home_project

Проект делается для себя.

Проект состоит из двух частей:

1.Приложение с графическим интерфейсом на писанным на tkinter, которое в асинхронном бесконечном цикле опрашивает Arduino, получает данные и пишет их в базу данных.

3.Веб сервер на flask. Который представляет из себя Web-SCADA'у.
Из википедии:
"SCADA (аббр. от англ. Supervisory Control And Data Acquisition — диспетчерское управление и сбор данных) — программный пакет, предназначенный для разработки или обеспечения работы в реальном времени систем сбора, обработки, отображения и архивирования информации об объекте мониторинга или управления."

На данный момент структура проекта следующая:


Arduino:

1.arduino_control.py:
Главный скрипт запрашивающий в бесконечном асинхронном цикле раз в 3 секунды у Arduino данные, принимающий их и пишущий в базу данных SQLite.

2.arduino_func.py:
Здесь находятся вспомогательные функции для работы с Arduino, допустим поиск доступных портов, определение порта на котором подключен Arduino и тп.

3.tk_gui.py:
Здесь создается графический интерфейс для запуска приложения написанный на tkinter.

4.arduino_app.py
Запуск и управление arduino_func.py и tk_gui.py.


Web-server:

1.run_server.py:
Запуск сервера.

2.server.py:
Создается наш сервер и доступные url's.

3.views.py:
Представления обрабатывающие запросы по определенным url'лам.

4.models.py:
Модели для базы данных. Используется ORM библиотека peewee.

5.web_form.py:
Веб формы написанные на WTF-Flask.

6.server_func.py:
Дополнительные функции используемые в представлениях.


Дополнительно:

1.logging_config.py:
Настраивается логирование. Используется модуль loguru.

2.config.ini:
Хранятся некоторые конфиги.

3.config.py:
Происходит парсинг config.ini.


Папки:

1.templates:
Шаблоны страниц. Для стилизации страниц применяется фреймворк Bootstrap 5.

2.static:
Хранятся статические файлы: js-скрипты, css-стили, картинки.

3.log:
Хранятся логи проекта.

4.ArduinoSketch:
Скетчи для Arduino.


В процессе:

1.интерактивный календарь для выбора даты и времени.

2.Создание интерактивных графиков с нужными показаниями по запрошенному временному интервалу.

3.Возможность добавлять и удалять нужные датчики для опроса через интерфейс приложения.

4.Рефакторинг кода, отлов возможных ошибок/исключений и борьба сними.

5.Стилизация страницы с помощью Bootstrap 5.

6.Управление исполнительными механизмами подключенными к Arduino через веб страницу.


Сделано:

1.Данные от Arduino получаются и пишутся в БД.

2.Сделана главная страница веб сервера. Возможность выбора даты начала и конца нужного временного промежутка, а так же выбор нужных показаний. В результате чего строится таблица с нужными показаниями за нужный временной промежуток.

3.Написано простое графическое приложение для запуска скрипта arduino_control.py, с возможностью выбора порта и скорости передачи данных, а так же отображением в окне последних сделанных записях.

4.Реализованно логирование.
